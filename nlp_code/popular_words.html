<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Unraveling the Linguistic Evolution in the Makeup Community (NLP)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="popular_words_files/libs/clipboard/clipboard.min.js"></script>
<script src="popular_words_files/libs/quarto-html/quarto.js"></script>
<script src="popular_words_files/libs/quarto-html/popper.min.js"></script>
<script src="popular_words_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="popular_words_files/libs/quarto-html/anchor.min.js"></script>
<link href="popular_words_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="popular_words_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="popular_words_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="popular_words_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="popular_words_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Unraveling the Linguistic Evolution in the Makeup Community (NLP)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Business Goal:</p>
<p>Language serves as more than a mere means of communication in the ever-evolving realm of beauty and cosmetics; it also serves as an indicator of consumer preferences, cultural changes, and emerging trends. The aim of this study is to analyze the linguistic terrain of the “MakeupAddiction” subreddit, tracing the development of colloquialisms and terminology utilized in the cosmetics community between 2021 and 2023. By looking at the rise, fall, and possible demise of certain words, we hope to create a linguistic mirror that shows how the cosmetics industry has changed in a broader sense. These observations can assist brands, influencers, and enthusiasts in comprehending the changing preferences of the community and remaining informed about the most recent terminology.</p>
<p>Technical Proposal:</p>
<p>Preserve and cleanse all pertinent textual information contained in the “MakeupAddiction” subreddit remarks and posts within the allotted time period. Incorporate NLP methodologies, such as tokenization and lemmatization, to facilitate text normalization. Use TF-IDF to do an industry-specific diachronic linguistic analysis to find and connect important changes in terminology that have happened over time. Deliver conclusions using dynamic visual representations and produce a report that interprets linguistic shifts in order to provide industry stakeholders with strategic insights. Develop, if desired, a predictive model for predicting forthcoming trends in language pertaining to cosmetics.</p>
<section id="step-1-set-up-pyspark-session-and-read-data-from-s3" class="level3">
<h3 class="anchored" data-anchor-id="step-1-set-up-pyspark-session-and-read-data-from-s3">Step 1: Set Up PySpark Session and Read Data from S3</h3>
<div class="cell" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup - Run only once per Kernel App</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>conda install openjdk <span class="op">-</span>y</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install PySpark</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># install Python Reddit API Wrapper for getting external data Karma</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install pyspark<span class="op">==</span><span class="fl">3.2.0</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install praw</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># restart kernel</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.core.display <span class="im">import</span> HTML</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>HTML(<span class="st">"&lt;script&gt;Jupyter.notebook.kernel.restart()&lt;/script&gt;"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Collecting package metadata (current_repodata.json): done
Solving environment: done


==&gt; WARNING: A newer version of conda exists. &lt;==
  current version: 23.3.1
  latest version: 23.10.0

Please update conda by running

    $ conda update -n base -c defaults conda

Or to minimize the number of packages updated during conda update use

     conda install conda=23.10.0



## Package Plan ##

  environment location: /opt/conda

  added / updated specs:
    - openjdk


The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    ca-certificates-2023.08.22 |       h06a4308_0         123 KB
    certifi-2023.7.22          |  py310h06a4308_0         153 KB
    openjdk-11.0.13            |       h87a67e3_0       341.0 MB
    ------------------------------------------------------------
                                           Total:       341.3 MB

The following NEW packages will be INSTALLED:

  openjdk            pkgs/main/linux-64::openjdk-11.0.13-h87a67e3_0 

The following packages will be UPDATED:

  ca-certificates    conda-forge::ca-certificates-2023.7.2~ --&gt; pkgs/main::ca-certificates-2023.08.22-h06a4308_0 

The following packages will be SUPERSEDED by a higher-priority channel:

  certifi            conda-forge/noarch::certifi-2023.7.22~ --&gt; pkgs/main/linux-64::certifi-2023.7.22-py310h06a4308_0 



Downloading and Extracting Packages
certifi-2023.7.22    | 153 KB    |                                       |   0% 
openjdk-11.0.13      | 341.0 MB  |                                       |   0% 

certifi-2023.7.22    | 153 KB    | ##################################### | 100% 

ca-certificates-2023 | 123 KB    | ##################################### | 100% 
openjdk-11.0.13      | 341.0 MB  | 3                                     |   1% 
openjdk-11.0.13      | 341.0 MB  | #5                                    |   4% 
openjdk-11.0.13      | 341.0 MB  | ##3                                   |   6% 
openjdk-11.0.13      | 341.0 MB  | ###9                                  |  11% 
openjdk-11.0.13      | 341.0 MB  | #####5                                |  15% 
openjdk-11.0.13      | 341.0 MB  | ######6                               |  18% 
openjdk-11.0.13      | 341.0 MB  | ########                              |  22% 
openjdk-11.0.13      | 341.0 MB  | #########1                            |  25% 
openjdk-11.0.13      | 341.0 MB  | ##########7                           |  29% 
openjdk-11.0.13      | 341.0 MB  | ###########8                          |  32% 
openjdk-11.0.13      | 341.0 MB  | #############5                        |  36% 
openjdk-11.0.13      | 341.0 MB  | ##############7                       |  40% 
openjdk-11.0.13      | 341.0 MB  | ################3                     |  44% 
openjdk-11.0.13      | 341.0 MB  | #################6                    |  48% 
openjdk-11.0.13      | 341.0 MB  | ###################2                  |  52% 
openjdk-11.0.13      | 341.0 MB  | ####################4                 |  55% 
openjdk-11.0.13      | 341.0 MB  | ######################2               |  60% 
openjdk-11.0.13      | 341.0 MB  | #######################7              |  64% 
openjdk-11.0.13      | 341.0 MB  | #########################3            |  69% 
openjdk-11.0.13      | 341.0 MB  | ##########################8           |  72% 
openjdk-11.0.13      | 341.0 MB  | ############################1         |  76% 
openjdk-11.0.13      | 341.0 MB  | #############################9        |  81% 
openjdk-11.0.13      | 341.0 MB  | ###############################6      |  86% 
openjdk-11.0.13      | 341.0 MB  | ################################9     |  89% 
openjdk-11.0.13      | 341.0 MB  | ##################################7   |  94% 
openjdk-11.0.13      | 341.0 MB  | ####################################2 |  98% 
                                                                                
                                                                                

                                                                                
Preparing transaction: done
Verifying transaction: done
Executing transaction: done

Note: you may need to restart the kernel to use updated packages.
Collecting pyspark==3.2.0
  Using cached pyspark-3.2.0-py2.py3-none-any.whl
Collecting py4j==0.10.9.2 (from pyspark==3.2.0)
  Using cached py4j-0.10.9.2-py2.py3-none-any.whl (198 kB)
Installing collected packages: py4j, pyspark
Successfully installed py4j-0.10.9.2 pyspark-3.2.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

[notice] A new release of pip is available: 23.2.1 -&gt; 23.3.1
[notice] To update, run: pip install --upgrade pip
Note: you may need to restart the kernel to use updated packages.
Collecting praw
  Obtaining dependency information for praw from https://files.pythonhosted.org/packages/81/6a/21bc058bcccbe03f6a0895bf1bd60c805f0c526aa4e9bfaac775ed0b299c/praw-7.7.1-py3-none-any.whl.metadata
  Using cached praw-7.7.1-py3-none-any.whl.metadata (9.8 kB)
Collecting prawcore&lt;3,&gt;=2.1 (from praw)
  Obtaining dependency information for prawcore&lt;3,&gt;=2.1 from https://files.pythonhosted.org/packages/96/5c/8af904314e42d5401afcfaff69940dc448e974f80f7aa39b241a4fbf0cf1/prawcore-2.4.0-py3-none-any.whl.metadata
  Using cached prawcore-2.4.0-py3-none-any.whl.metadata (5.0 kB)
Collecting update-checker&gt;=0.18 (from praw)
  Using cached update_checker-0.18.0-py3-none-any.whl (7.0 kB)
Requirement already satisfied: websocket-client&gt;=0.54.0 in /opt/conda/lib/python3.10/site-packages (from praw) (0.58.0)
Requirement already satisfied: requests&lt;3.0,&gt;=2.6.0 in /opt/conda/lib/python3.10/site-packages (from prawcore&lt;3,&gt;=2.1-&gt;praw) (2.31.0)
Requirement already satisfied: six in /opt/conda/lib/python3.10/site-packages (from websocket-client&gt;=0.54.0-&gt;praw) (1.16.0)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /opt/conda/lib/python3.10/site-packages (from requests&lt;3.0,&gt;=2.6.0-&gt;prawcore&lt;3,&gt;=2.1-&gt;praw) (2.0.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /opt/conda/lib/python3.10/site-packages (from requests&lt;3.0,&gt;=2.6.0-&gt;prawcore&lt;3,&gt;=2.1-&gt;praw) (3.3)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /opt/conda/lib/python3.10/site-packages (from requests&lt;3.0,&gt;=2.6.0-&gt;prawcore&lt;3,&gt;=2.1-&gt;praw) (2.0.6)
Requirement already satisfied: certifi&gt;=2017.4.17 in /opt/conda/lib/python3.10/site-packages (from requests&lt;3.0,&gt;=2.6.0-&gt;prawcore&lt;3,&gt;=2.1-&gt;praw) (2023.7.22)
Using cached praw-7.7.1-py3-none-any.whl (191 kB)
Using cached prawcore-2.4.0-py3-none-any.whl (17 kB)
Installing collected packages: update-checker, prawcore, praw
Successfully installed praw-7.7.1 prawcore-2.4.0 update-checker-0.18.0
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

[notice] A new release of pip is available: 23.2.1 -&gt; 23.3.1
[notice] To update, run: pip install --upgrade pip
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="4">
<script>Jupyter.notebook.kernel.restart()</script>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql <span class="im">import</span> SparkSession</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> udf, col</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.types <span class="im">import</span> StringType, ArrayType, IntegerType</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.ml.feature <span class="im">import</span> Tokenizer, StopWordsRemover, HashingTF, IDF</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pyspark.sql.functions <span class="im">as</span> F</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Building Spark Session</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>spark <span class="op">=</span> (</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    SparkSession.builder.appName(<span class="st">"PySparkApp"</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    .config(<span class="st">"spark.jars.packages"</span>, <span class="st">"org.apache.hadoop:hadoop-aws:3.2.2"</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    .config(<span class="st">"fs.s3a.aws.credentials.provider"</span>, <span class="st">"com.amazonaws.auth.ContainerCredentialsProvider"</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    .getOrCreate()</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Read data from S3</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sagemaker</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>session <span class="op">=</span> sagemaker.Session()</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>bucket <span class="op">=</span> session.default_bucket()</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>output_prefix_data_submissions <span class="op">=</span> <span class="st">"project/submissions/yyyy=*"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>s3_path <span class="op">=</span> <span class="ss">f"s3a://</span><span class="sc">{</span>bucket<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span>output_prefix_data_submissions<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"reading submissions from </span><span class="sc">{</span>s3_path<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>submissions <span class="op">=</span> spark.read.parquet(s3_path, header<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"shape of the submissions dataframe is </span><span class="sc">{</span>submissions<span class="sc">.</span>count()<span class="sc">:,}</span><span class="ss">x</span><span class="sc">{</span><span class="bu">len</span>(submissions.columns)<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>sampled_submissions <span class="op">=</span> submissions.sample(withReplacement<span class="op">=</span><span class="va">False</span>, fraction<span class="op">=</span><span class="fl">0.1</span>, seed<span class="op">=</span><span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Ignoring non-Spark config property: fs.s3a.aws.credentials.provider
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/opt/conda/lib/python3.10/site-packages/pyspark/jars/spark-unsafe_2.12-3.2.0.jar) to constructor java.nio.DirectByteBuffer(long,int)
WARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Ivy Default Cache set to: /root/.ivy2/cache
The jars for the packages stored in: /root/.ivy2/jars
org.apache.hadoop#hadoop-aws added as a dependency
:: resolving dependencies :: org.apache.spark#spark-submit-parent-820c7030-767d-46b4-b18f-3b2287756969;1.0
    confs: [default]
    found org.apache.hadoop#hadoop-aws;3.2.2 in central
    found com.amazonaws#aws-java-sdk-bundle;1.11.563 in central
:: resolution report :: resolve 298ms :: artifacts dl 19ms
    :: modules in use:
    com.amazonaws#aws-java-sdk-bundle;1.11.563 from central in [default]
    org.apache.hadoop#hadoop-aws;3.2.2 from central in [default]
    ---------------------------------------------------------------------
    |                  |            modules            ||   artifacts   |
    |       conf       | number| search|dwnlded|evicted|| number|dwnlded|
    ---------------------------------------------------------------------
    |      default     |   2   |   0   |   0   |   0   ||   2   |   0   |
    ---------------------------------------------------------------------
:: retrieving :: org.apache.spark#spark-submit-parent-820c7030-767d-46b4-b18f-3b2287756969
    confs: [default]
    0 artifacts copied, 2 already retrieved (0kB/11ms)
23/11/19 21:04:07 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
Using Spark's default log4j profile: org/apache/spark/log4j-defaults.properties
Setting default log level to "WARN".
To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).
23/11/19 21:04:13 WARN MetricsConfig: Cannot locate configuration: tried hadoop-metrics2-s3a-file-system.properties,hadoop-metrics2.properties
23/11/19 21:04:19 WARN package: Truncated the string representation of a plan since it was too large. This behavior can be adjusted by setting 'spark.sql.debug.maxToStringFields'.
[Stage 1:========================================================&gt;(96 + 1) / 97]                                                                                </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>:: loading settings :: url = jar:file:/opt/conda/lib/python3.10/site-packages/pyspark/jars/ivy-2.5.0.jar!/org/apache/ivy/core/settings/ivysettings.xml
sagemaker.config INFO - Not applying SDK defaults from location: /etc/xdg/sagemaker/config.yaml
sagemaker.config INFO - Not applying SDK defaults from location: /root/.config/sagemaker/config.yaml
sagemaker.config INFO - Not applying SDK defaults from location: /etc/xdg/sagemaker/config.yaml
sagemaker.config INFO - Not applying SDK defaults from location: /root/.config/sagemaker/config.yaml
reading submissions from s3a://sagemaker-us-east-1-729491017256/project/submissions/yyyy=*
shape of the submissions dataframe is 95,932x68</code></pre>
</div>
</div>
</section>
<section id="step-2-data-preprocessing" class="level3">
<h3 class="anchored" data-anchor-id="step-2-data-preprocessing">Step 2: Data Preprocessing</h3>
<div class="cell" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> lower, col, regexp_replace, udf, explode, desc, length, StringType</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.ml.feature <span class="im">import</span> Tokenizer, StopWordsRemover</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.window <span class="im">import</span> Window</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> rank, explode</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_text(text):</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> re  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Lowercase</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> text.lower()</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove URLs</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r'http\S+'</span>, <span class="st">''</span>, text)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove numbers</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r'\d+'</span>, <span class="st">''</span>, text)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove punctuation and special characters</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> re.sub(<span class="vs">r'[^a-zA-Z\s]'</span>, <span class="st">''</span>, text)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove short words (less than 3 characters)</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="st">' '</span>.join([word <span class="cf">for</span> word <span class="kw">in</span> text.split() <span class="cf">if</span> <span class="bu">len</span>(word) <span class="op">&gt;</span> <span class="dv">2</span>])</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> text</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>clean_text_udf <span class="op">=</span> udf(clean_text, StringType())</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the cleaning function to the submissions dataset</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>sampled_submissions <span class="op">=</span> sampled_submissions.withColumn(<span class="st">'clean_text'</span>, clean_text_udf(col(<span class="st">'selftext'</span>)))</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop NA values and rows with empty 'clean_text'</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>sampled_submissions <span class="op">=</span> sampled_submissions.na.drop(subset<span class="op">=</span>[<span class="st">"clean_text"</span>])</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>sampled_submissions <span class="op">=</span> sampled_submissions.<span class="bu">filter</span>(length(col(<span class="st">'clean_text'</span>)) <span class="op">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize the cleaned text</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>tokenizer <span class="op">=</span> Tokenizer(inputCol<span class="op">=</span><span class="st">'clean_text'</span>, outputCol<span class="op">=</span><span class="st">'words'</span>)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>tokenized_submission <span class="op">=</span> tokenizer.transform(sampled_submissions)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove stop words</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>remover <span class="op">=</span> StopWordsRemover(inputCol<span class="op">=</span><span class="st">'words'</span>, outputCol<span class="op">=</span><span class="st">'filtered_words'</span>)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>clean_submission <span class="op">=</span> remover.transform(tokenized_submission)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="step-3-calculate-tf-idf" class="level3">
<h3 class="anchored" data-anchor-id="step-3-calculate-tf-idf">Step 3: Calculate TF-IDF</h3>
<div class="cell" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.ml.feature <span class="im">import</span> HashingTF, IDF</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Hashing TF</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>hashingTF <span class="op">=</span> HashingTF(inputCol<span class="op">=</span><span class="st">"filtered_words"</span>, outputCol<span class="op">=</span><span class="st">"rawFeatures"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>featurized_data <span class="op">=</span> hashingTF.transform(clean_submission)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># IDF</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>idf <span class="op">=</span> IDF(inputCol<span class="op">=</span><span class="st">"rawFeatures"</span>, outputCol<span class="op">=</span><span class="st">"features"</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>idf_model <span class="op">=</span> idf.fit(featurized_data)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>tfidf_data <span class="op">=</span> idf_model.transform(featurized_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>                                                                                </code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.ml.feature <span class="im">import</span> CountVectorizer</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'filtered_words' is the output column from StopWordsRemover</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>cv <span class="op">=</span> CountVectorizer(inputCol<span class="op">=</span><span class="st">"filtered_words"</span>, outputCol<span class="op">=</span><span class="st">"cv_features"</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>cv_model <span class="op">=</span> cv.fit(clean_submission)  <span class="co"># clean_submission from your previous step</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract vocabulary</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>vocabulary <span class="op">=</span> cv_model.vocabulary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>                                                                                </code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract Top Terms from TF-IDF Vectors</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> udf</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.types <span class="im">import</span> ArrayType, StringType</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>broadcast_vocabulary <span class="op">=</span> spark.sparkContext.broadcast(vocabulary)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_top_terms(vector, num_terms<span class="op">=</span><span class="dv">10</span>):</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    indices <span class="op">=</span> np.argsort(vector.toArray())[<span class="op">-</span>num_terms:][::<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [broadcast_vocabulary.value[i] <span class="cf">for</span> i <span class="kw">in</span> indices <span class="cf">if</span> i <span class="op">&lt;</span> <span class="bu">len</span>(broadcast_vocabulary.value)]</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>extract_top_terms_udf <span class="op">=</span> udf(extract_top_terms, ArrayType(StringType()))</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>tfidf_data <span class="op">=</span> tfidf_data.withColumn(<span class="st">"top_terms"</span>, extract_top_terms_udf(col(<span class="st">"features"</span>)))</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> year, month</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'created_utc' to timestamp if it's not already</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># tfidf_data = tfidf_data.withColumn('created_utc', to_timestamp('created_utc'))</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year and month</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>tfidf_data <span class="op">=</span> tfidf_data.withColumn(<span class="st">'year'</span>, year(<span class="st">'created_utc'</span>))</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>tfidf_data <span class="op">=</span> tfidf_data.withColumn(<span class="st">'month'</span>, month(<span class="st">'created_utc'</span>))</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the UDF 'extract_top_terms_udf' is already defined and applied</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>exploded_terms <span class="op">=</span> tfidf_data.select(<span class="st">'year'</span>, <span class="st">'month'</span>, explode(<span class="st">'top_terms'</span>).alias(<span class="st">'term'</span>))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>term_trends <span class="op">=</span> exploded_terms.groupBy(<span class="st">'year'</span>, <span class="st">'month'</span>, <span class="st">'term'</span>).count().orderBy(<span class="st">'year'</span>, <span class="st">'month'</span>, <span class="st">'count'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>term_trends.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>23/11/19 05:28:15 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
[Stage 30:=======================================================&gt;(96 + 1) / 97]23/11/19 05:40:19 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
                                                                                </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>+----+-----+----------------+-----+
|year|month|            term|count|
+----+-----+----------------+-----+
|2023|    3|       tattmatte|   48|
|2023|    3|           alike|   31|
|2023|    3|      straighten|   30|
|2023|    3|         directs|   13|
|2023|    3|         kaleido|   12|
|2023|    3|         cruical|   12|
|2023|    3|      repackages|   10|
|2023|    3|      temptation|   10|
|2023|    3|       runaround|   10|
|2023|    3|       lookbooks|    9|
|2023|    3|            jogs|    9|
|2023|    3|           robot|    9|
|2023|    3|layeringbuilding|    9|
|2023|    3|         shivers|    9|
|2023|    3|       responder|    9|
|2023|    3|        skintine|    8|
|2023|    3|          jamata|    8|
|2023|    3| differencewhich|    8|
|2023|    3|          smears|    8|
|2023|    3|           human|    7|
+----+-----+----------------+-----+
only showing top 20 rows
</code></pre>
</div>
</div>
</section>
<section id="visualization-using-python-and-plotly" class="level3">
<h3 class="anchored" data-anchor-id="visualization-using-python-and-plotly">Visualization (Using Python and Plotly):</h3>
<div class="cell" data-tags="[]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to Pandas DataFrame for visualization</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly <span class="op">=</span> term_trends.toPandas()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>23/11/19 05:40:28 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
23/11/19 05:52:43 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
23/11/19 05:52:43 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
23/11/19 05:52:43 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="26">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>output_filepath <span class="op">=</span> <span class="st">'../../data/csv/popular_words.csv'</span>  <span class="co"># Specify your desired output path</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly.to_csv(output_filepath, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="32">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort DataFrame by year, month, and count for visualization and filter for top 10 terms each month</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly_sorted <span class="op">=</span> pdf_top_terms_monthly.sort_values(by<span class="op">=</span>[<span class="st">'year'</span>, <span class="st">'month'</span>, <span class="st">'count'</span>], ascending<span class="op">=</span>[<span class="va">True</span>, <span class="va">True</span>, <span class="va">False</span>])</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly_top10 <span class="op">=</span> pdf_top_terms_monthly_sorted.groupby([<span class="st">'year'</span>, <span class="st">'month'</span>]).head(<span class="dv">10</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly_top10.to_csv(<span class="st">'../../data/csv/top10_popular_words.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the figure</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the table to the figure with the sorted data</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Table(</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[<span class="st">'Year'</span>, <span class="st">'Month'</span>, <span class="st">'Term'</span>, <span class="st">'Count'</span>], fill_color<span class="op">=</span><span class="st">'paleturquoise'</span>),</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    cells<span class="op">=</span><span class="bu">dict</span>(values<span class="op">=</span>[pdf_top_terms_monthly_top10.year, </span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>                       pdf_top_terms_monthly_top10.month, </span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>                       pdf_top_terms_monthly_top10.term, </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>                       pdf_top_terms_monthly_top10[<span class="st">'count'</span>]], fill_color<span class="op">=</span><span class="st">'lavender'</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to create a filter button</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_filter_button(year, month):</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter data based on year and month</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    filtered_data <span class="op">=</span> pdf_top_terms_monthly_top10[</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>        (pdf_top_terms_monthly_top10[<span class="st">'year'</span>] <span class="op">==</span> year) <span class="op">&amp;</span> </span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>        (pdf_top_terms_monthly_top10[<span class="st">'month'</span>] <span class="op">==</span> month)</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a button for the filter</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">dict</span>(</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>month<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>        method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>        args<span class="op">=</span>[{<span class="st">"cells"</span>: {<span class="st">"values"</span>: [filtered_data.year, </span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>                                    filtered_data.month, </span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>                                    filtered_data.term, </span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>                                    filtered_data[<span class="st">'count'</span>]]}}],</span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a button for selecting all data</span></span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_select_all_button():</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">dict</span>(</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="st">"Select All"</span>,</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>        method<span class="op">=</span><span class="st">"update"</span>,</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>        args<span class="op">=</span>[{<span class="st">"cells"</span>: {<span class="st">"values"</span>: [pdf_top_terms_monthly_top10.year, </span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a>                                    pdf_top_terms_monthly_top10.month, </span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>                                    pdf_top_terms_monthly_top10.term, </span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a>                                    pdf_top_terms_monthly_top10[<span class="st">'count'</span>]]}}],</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Create filter buttons for each year and month combination, plus the 'Select All' option</span></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>buttons <span class="op">=</span> [create_select_all_button()] <span class="op">+</span> [</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>    create_filter_button(year, month)</span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">sorted</span>(pdf_top_terms_monthly_top10[<span class="st">'year'</span>].unique())</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> month <span class="kw">in</span> <span class="bu">sorted</span>(pdf_top_terms_monthly_top10[<span class="st">'month'</span>].unique())</span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Add dropdown menu with buttons</span></span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>    updatemenus<span class="op">=</span>[{</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>        <span class="st">"buttons"</span>: buttons,</span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>        <span class="st">"direction"</span>: <span class="st">"down"</span>,</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>        <span class="st">"showactive"</span>: <span class="va">True</span>,</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>        <span class="st">"x"</span>: <span class="fl">0.1</span>,</span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>        <span class="st">"xanchor"</span>: <span class="st">"left"</span>,</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>        <span class="st">"y"</span>: <span class="fl">1.2</span>,</span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>        <span class="st">"yanchor"</span>: <span class="st">"top"</span></span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>    }],</span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Terms by Month and Year"</span></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the figure</span></span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>fig.show()</span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the Plotly figure to an HTML file</span></span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a>html_file_path <span class="op">=</span> <span class="st">'../../data/plots/nlp_yyl/top_terms_monthly_figure.html'</span>  <span class="co"># Adjust the path as needed</span></span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a>fig.write_html(html_file_path)</span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="3051cd1f-d98f-488a-a24a-2d3c4a5c1ae7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3051cd1f-d98f-488a-a24a-2d3c4a5c1ae7")) {                    Plotly.newPlot(                        "3051cd1f-d98f-488a-a24a-2d3c4a5c1ae7",                        [{"cells":{"fill":{"color":"lavender"},"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3],["tattmatte","cruical","alike","straighten","kaleido","frosting","saraxb","repackages","tanvery","directs","tattmatte","alike","straighten","cruical","cakeddry","flavors","kaleido","human","runaround","layeringbuilding","tattmatte","alike","kaleido","straighten","cruical","vidos","allergy","runaround","jogs","sisters","tattmatte","alike","straighten","runaround","kaleido","complicating","saraxb","sisters","professionall","realise","tattmatte","alike","straighten","sisters","frosting","intobuild","minty","saraxb","madness","tackles","tattmatte","alike","straighten","cruical","saraxb","timeexcept","kaleido","camping","inertia","norm","tattmatte","alike","jogs","runaround","straighten","complicating","norm","cruical","kaleido","madness","tattmatte","alike","lookbooks","camping","straighten","jogs","repackages","directs","cruical","saraxb","tattmatte","alike","tinged","cruical","frosting","straighten","opted","knook","directs","curvitude","tattmatte","straighten","runaround","alike","cruical","hyaluronics","kaleido","camping","saraxb","jamata","tattmatte","alike","straighten","kaleido","frosting","saraxb","cruical","shivers","camping","das","tattmatte","straighten","cruical","saraxb","alike","kaleido","directs","inertia","vidos","duane","tattmatte","straighten","alike","kaleido","saraxb","nyxmeh","timeexcept","cruical","vidos","jamata","tattmatte","alike","straighten","saraxb","permanent","camping","kaleido","sisters","frosting","robot","tattmatte","alike","kaleido","cruical","runaround","outs","straighten","bumped","sisters","responder","tattmatte","alike","saraxb","straighten","kaleido","temptation","mil","cruical","creamwhatever","travelsized","tattmatte","alike","straighten","saraxb","kaleido","camping","dewyglowynonmatte","cruical","frosting","directs","tattmatte","alike","kaleido","straighten","jogs","saraxb","numetal","usd","frosting","runaround","tattmatte","alike","kaleido","straighten","tintbase","camping","horrendous","shivers","lustreglass","sisters","kaleido","tattmatte","alike","camping","straighten","sisters","saraxb","lookbooks","cruical","furnature","tattmatte","alike","kaleido","straighten","saraxb","camping","laura","sisters","responder","shivers","tattmatte","alike","kaleido","straighten","saraxb","sisters","spoilers","runaround","professionall","cruical","tattmatte","alike","kaleido","cruical","straighten","bumped","directs","lookbooks","runaround","jogs","tattmatte","alike","straighten","saraxb","lookbooks","kaleido","cruical","frosting","wasteland","coupled","tattmatte","alike","straighten","kaleido","cruical","directs","lookbooks","jogs","sisters","professionall","tattmatte","alike","straighten","kaleido","lookbooks","tuts","repackages","perk","jamata","khalo","tattmatte","alike","straighten","directs","kaleido","cruical","runaround","repackages","temptation","lookbooks"],[27,14,12,8,8,7,6,6,5,5,26,12,12,11,7,7,7,7,6,6,23,20,13,10,8,6,5,5,5,5,37,18,12,9,8,8,7,5,5,5,22,10,7,5,5,5,4,4,4,4,28,11,8,7,7,7,6,4,4,4,34,15,7,7,6,6,5,5,5,4,19,14,8,8,7,6,5,5,5,5,21,18,9,8,8,7,6,6,5,5,24,10,9,9,7,5,5,4,4,4,21,12,8,8,6,6,6,5,4,4,18,13,9,9,9,8,5,5,5,5,22,13,12,11,7,6,6,6,6,5,39,20,8,7,6,6,6,5,5,5,42,20,14,11,10,8,7,6,6,6,42,24,13,13,8,6,6,6,6,5,41,27,22,10,9,7,6,6,6,6,21,18,12,8,6,6,5,5,5,5,22,20,11,10,6,6,6,6,5,5,22,20,13,12,12,10,8,8,8,7,24,19,17,13,10,9,7,7,6,6,38,30,14,13,12,10,9,9,9,9,22,19,18,10,9,8,8,7,7,6,39,28,16,14,14,14,10,10,9,9,42,34,23,21,21,12,11,10,10,10,54,39,29,20,10,10,9,9,8,8,48,31,30,13,12,12,10,10,10,9]]},"header":{"fill":{"color":"paleturquoise"},"values":["Year","Month","Term","Count"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"updatemenus":[{"buttons":[{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3],["tattmatte","cruical","alike","straighten","kaleido","frosting","saraxb","repackages","tanvery","directs","tattmatte","alike","straighten","cruical","cakeddry","flavors","kaleido","human","runaround","layeringbuilding","tattmatte","alike","kaleido","straighten","cruical","vidos","allergy","runaround","jogs","sisters","tattmatte","alike","straighten","runaround","kaleido","complicating","saraxb","sisters","professionall","realise","tattmatte","alike","straighten","sisters","frosting","intobuild","minty","saraxb","madness","tackles","tattmatte","alike","straighten","cruical","saraxb","timeexcept","kaleido","camping","inertia","norm","tattmatte","alike","jogs","runaround","straighten","complicating","norm","cruical","kaleido","madness","tattmatte","alike","lookbooks","camping","straighten","jogs","repackages","directs","cruical","saraxb","tattmatte","alike","tinged","cruical","frosting","straighten","opted","knook","directs","curvitude","tattmatte","straighten","runaround","alike","cruical","hyaluronics","kaleido","camping","saraxb","jamata","tattmatte","alike","straighten","kaleido","frosting","saraxb","cruical","shivers","camping","das","tattmatte","straighten","cruical","saraxb","alike","kaleido","directs","inertia","vidos","duane","tattmatte","straighten","alike","kaleido","saraxb","nyxmeh","timeexcept","cruical","vidos","jamata","tattmatte","alike","straighten","saraxb","permanent","camping","kaleido","sisters","frosting","robot","tattmatte","alike","kaleido","cruical","runaround","outs","straighten","bumped","sisters","responder","tattmatte","alike","saraxb","straighten","kaleido","temptation","mil","cruical","creamwhatever","travelsized","tattmatte","alike","straighten","saraxb","kaleido","camping","dewyglowynonmatte","cruical","frosting","directs","tattmatte","alike","kaleido","straighten","jogs","saraxb","numetal","usd","frosting","runaround","tattmatte","alike","kaleido","straighten","tintbase","camping","horrendous","shivers","lustreglass","sisters","kaleido","tattmatte","alike","camping","straighten","sisters","saraxb","lookbooks","cruical","furnature","tattmatte","alike","kaleido","straighten","saraxb","camping","laura","sisters","responder","shivers","tattmatte","alike","kaleido","straighten","saraxb","sisters","spoilers","runaround","professionall","cruical","tattmatte","alike","kaleido","cruical","straighten","bumped","directs","lookbooks","runaround","jogs","tattmatte","alike","straighten","saraxb","lookbooks","kaleido","cruical","frosting","wasteland","coupled","tattmatte","alike","straighten","kaleido","cruical","directs","lookbooks","jogs","sisters","professionall","tattmatte","alike","straighten","kaleido","lookbooks","tuts","repackages","perk","jamata","khalo","tattmatte","alike","straighten","directs","kaleido","cruical","runaround","repackages","temptation","lookbooks"],[27,14,12,8,8,7,6,6,5,5,26,12,12,11,7,7,7,7,6,6,23,20,13,10,8,6,5,5,5,5,37,18,12,9,8,8,7,5,5,5,22,10,7,5,5,5,4,4,4,4,28,11,8,7,7,7,6,4,4,4,34,15,7,7,6,6,5,5,5,4,19,14,8,8,7,6,5,5,5,5,21,18,9,8,8,7,6,6,5,5,24,10,9,9,7,5,5,4,4,4,21,12,8,8,6,6,6,5,4,4,18,13,9,9,9,8,5,5,5,5,22,13,12,11,7,6,6,6,6,5,39,20,8,7,6,6,6,5,5,5,42,20,14,11,10,8,7,6,6,6,42,24,13,13,8,6,6,6,6,5,41,27,22,10,9,7,6,6,6,6,21,18,12,8,6,6,5,5,5,5,22,20,11,10,6,6,6,6,5,5,22,20,13,12,12,10,8,8,8,7,24,19,17,13,10,9,7,7,6,6,38,30,14,13,12,10,9,9,9,9,22,19,18,10,9,8,8,7,7,6,39,28,16,14,14,14,10,10,9,9,42,34,23,21,21,12,11,10,10,10,54,39,29,20,10,10,9,9,8,8,48,31,30,13,12,12,10,10,10,9]]}}],"label":"Select All","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[1,1,1,1,1,1,1,1,1,1],["tattmatte","cruical","alike","straighten","kaleido","frosting","saraxb","repackages","tanvery","directs"],[27,14,12,8,8,7,6,6,5,5]]}}],"label":"2021-1","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[2,2,2,2,2,2,2,2,2,2],["tattmatte","alike","straighten","cruical","cakeddry","flavors","kaleido","human","runaround","layeringbuilding"],[26,12,12,11,7,7,7,7,6,6]]}}],"label":"2021-2","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[3,3,3,3,3,3,3,3,3,3],["tattmatte","alike","kaleido","straighten","cruical","vidos","allergy","runaround","jogs","sisters"],[23,20,13,10,8,6,5,5,5,5]]}}],"label":"2021-3","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[4,4,4,4,4,4,4,4,4,4],["tattmatte","alike","straighten","runaround","kaleido","complicating","saraxb","sisters","professionall","realise"],[37,18,12,9,8,8,7,5,5,5]]}}],"label":"2021-4","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[5,5,5,5,5,5,5,5,5,5],["tattmatte","alike","straighten","sisters","frosting","intobuild","minty","saraxb","madness","tackles"],[22,10,7,5,5,5,4,4,4,4]]}}],"label":"2021-5","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[6,6,6,6,6,6,6,6,6,6],["tattmatte","alike","straighten","cruical","saraxb","timeexcept","kaleido","camping","inertia","norm"],[28,11,8,7,7,7,6,4,4,4]]}}],"label":"2021-6","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[7,7,7,7,7,7,7,7,7,7],["tattmatte","alike","jogs","runaround","straighten","complicating","norm","cruical","kaleido","madness"],[34,15,7,7,6,6,5,5,5,4]]}}],"label":"2021-7","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[8,8,8,8,8,8,8,8,8,8],["tattmatte","alike","lookbooks","camping","straighten","jogs","repackages","directs","cruical","saraxb"],[19,14,8,8,7,6,5,5,5,5]]}}],"label":"2021-8","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[9,9,9,9,9,9,9,9,9,9],["tattmatte","alike","tinged","cruical","frosting","straighten","opted","knook","directs","curvitude"],[21,18,9,8,8,7,6,6,5,5]]}}],"label":"2021-9","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[10,10,10,10,10,10,10,10,10,10],["tattmatte","straighten","runaround","alike","cruical","hyaluronics","kaleido","camping","saraxb","jamata"],[24,10,9,9,7,5,5,4,4,4]]}}],"label":"2021-10","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[11,11,11,11,11,11,11,11,11,11],["tattmatte","alike","straighten","kaleido","frosting","saraxb","cruical","shivers","camping","das"],[21,12,8,8,6,6,6,5,4,4]]}}],"label":"2021-11","method":"update"},{"args":[{"cells":{"values":[[2021,2021,2021,2021,2021,2021,2021,2021,2021,2021],[12,12,12,12,12,12,12,12,12,12],["tattmatte","straighten","cruical","saraxb","alike","kaleido","directs","inertia","vidos","duane"],[18,13,9,9,9,8,5,5,5,5]]}}],"label":"2021-12","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[1,1,1,1,1,1,1,1,1,1],["tattmatte","straighten","alike","kaleido","saraxb","nyxmeh","timeexcept","cruical","vidos","jamata"],[22,13,12,11,7,6,6,6,6,5]]}}],"label":"2022-1","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[2,2,2,2,2,2,2,2,2,2],["tattmatte","alike","straighten","saraxb","permanent","camping","kaleido","sisters","frosting","robot"],[39,20,8,7,6,6,6,5,5,5]]}}],"label":"2022-2","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[3,3,3,3,3,3,3,3,3,3],["tattmatte","alike","kaleido","cruical","runaround","outs","straighten","bumped","sisters","responder"],[42,20,14,11,10,8,7,6,6,6]]}}],"label":"2022-3","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[4,4,4,4,4,4,4,4,4,4],["tattmatte","alike","saraxb","straighten","kaleido","temptation","mil","cruical","creamwhatever","travelsized"],[42,24,13,13,8,6,6,6,6,5]]}}],"label":"2022-4","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[5,5,5,5,5,5,5,5,5,5],["tattmatte","alike","straighten","saraxb","kaleido","camping","dewyglowynonmatte","cruical","frosting","directs"],[41,27,22,10,9,7,6,6,6,6]]}}],"label":"2022-5","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[6,6,6,6,6,6,6,6,6,6],["tattmatte","alike","kaleido","straighten","jogs","saraxb","numetal","usd","frosting","runaround"],[21,18,12,8,6,6,5,5,5,5]]}}],"label":"2022-6","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[7,7,7,7,7,7,7,7,7,7],["tattmatte","alike","kaleido","straighten","tintbase","camping","horrendous","shivers","lustreglass","sisters"],[22,20,11,10,6,6,6,6,5,5]]}}],"label":"2022-7","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[8,8,8,8,8,8,8,8,8,8],["kaleido","tattmatte","alike","camping","straighten","sisters","saraxb","lookbooks","cruical","furnature"],[22,20,13,12,12,10,8,8,8,7]]}}],"label":"2022-8","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[9,9,9,9,9,9,9,9,9,9],["tattmatte","alike","kaleido","straighten","saraxb","camping","laura","sisters","responder","shivers"],[24,19,17,13,10,9,7,7,6,6]]}}],"label":"2022-9","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[10,10,10,10,10,10,10,10,10,10],["tattmatte","alike","kaleido","straighten","saraxb","sisters","spoilers","runaround","professionall","cruical"],[38,30,14,13,12,10,9,9,9,9]]}}],"label":"2022-10","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[11,11,11,11,11,11,11,11,11,11],["tattmatte","alike","kaleido","cruical","straighten","bumped","directs","lookbooks","runaround","jogs"],[22,19,18,10,9,8,8,7,7,6]]}}],"label":"2022-11","method":"update"},{"args":[{"cells":{"values":[[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022],[12,12,12,12,12,12,12,12,12,12],["tattmatte","alike","straighten","saraxb","lookbooks","kaleido","cruical","frosting","wasteland","coupled"],[39,28,16,14,14,14,10,10,9,9]]}}],"label":"2022-12","method":"update"},{"args":[{"cells":{"values":[[2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[1,1,1,1,1,1,1,1,1,1],["tattmatte","alike","straighten","kaleido","cruical","directs","lookbooks","jogs","sisters","professionall"],[42,34,23,21,21,12,11,10,10,10]]}}],"label":"2023-1","method":"update"},{"args":[{"cells":{"values":[[2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[2,2,2,2,2,2,2,2,2,2],["tattmatte","alike","straighten","kaleido","lookbooks","tuts","repackages","perk","jamata","khalo"],[54,39,29,20,10,10,9,9,8,8]]}}],"label":"2023-2","method":"update"},{"args":[{"cells":{"values":[[2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[3,3,3,3,3,3,3,3,3,3],["tattmatte","alike","straighten","directs","kaleido","cruical","runaround","repackages","temptation","lookbooks"],[48,31,30,13,12,12,10,10,10,9]]}}],"label":"2023-3","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-4","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-5","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-6","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-7","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-8","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-9","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-10","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-11","method":"update"},{"args":[{"cells":{"values":[[],[],[],[]]}}],"label":"2023-12","method":"update"}],"direction":"down","showactive":true,"x":0.1,"xanchor":"left","y":1.2,"yanchor":"top"}],"title":{"text":"Top 10 Terms by Month and Year"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3051cd1f-d98f-488a-a24a-2d3c4a5c1ae7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>“Tattmatte”: This term consistently appears across multiple months and years. It could refer to a specific product, brand, or makeup technique that has sustained popularity in the community. Investigating the context in which “Tattmatte” is mentioned could provide insights into why it’s so prevalent.</p>
<p>Seasonal Trends: Terms like “kaleido” and “straighten” appear regularly, hinting at ongoing trends or interests. “Kaleido” might refer to a color palette or style that is seasonally relevant, while “straighten” could relate to a makeup technique or tool.</p>
<p>Emerging Trends: The appearance of terms like “temptation,” “lookbooks,” and “repackages” in later years (2023) suggests new topics or products gaining traction. These could be related to new product launches or emerging makeup styles.</p>
<p>Yearly Comparisons: Terms such as “alike” and “cruical” show significant counts across years, indicating long-term interests or ongoing discussions in the community. Understanding the context of these terms could reveal whether they relate to product types, makeup techniques, or community-specific topics.</p>
<p>Specific Interests: Unique terms that appear in certain months but not others could signify time-bound events or discussions. For instance, “runaround” and “jogs” might be related to seasonal activities influencing makeup choices or could be names of specific products that were popular during those times.</p>
<p>User Engagement: The frequency of term mentions can be a measure of engagement or interest levels in specific topics. Higher counts indicate more active discussions or questions about those terms.</p>
<p>Contextual Analysis: To fully understand why certain terms are popular, it’s essential to read the posts and threads where these terms appear. This will provide context – whether they’re discussing new products, sharing makeup techniques, or focusing on brand reviews.</p>
<p>Impact of External Factors: Some terms may gain popularity due to external influences like viral social media content, celebrity endorsements, or shifts in the beauty industry.</p>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the DataFrame from the CSV file</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly <span class="op">=</span> pd.read_csv(<span class="st">'../../data/csv/top10_popular_words.csv'</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'year' and 'month' to datetime for plotting</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>pdf_top_terms_monthly[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(pdf_top_terms_monthly[[<span class="st">'year'</span>, <span class="st">'month'</span>]].assign(DAY<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the top 20 terms by overall frequency from the top 10 terms each month</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>top_terms_data <span class="op">=</span> (</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    pdf_top_terms_monthly.groupby(<span class="st">'term'</span>)[<span class="st">'count'</span>]</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">sum</span>()</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    .sort_values(ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    .head(<span class="dv">20</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the top 20 terms</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>top_terms <span class="op">=</span> top_terms_data.index</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the figure</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line traces for each of the top 20 terms</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> term <span class="kw">in</span> top_terms:</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter the data for the current term</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>    term_data <span class="op">=</span> pdf_top_terms_monthly[pdf_top_terms_monthly[<span class="st">'term'</span>] <span class="op">==</span> term]</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add a trace for this term</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>        go.Scatter(</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>term_data[<span class="st">'date'</span>],  </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>term_data[<span class="st">'count'</span>],</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span>term,</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>            mode<span class="op">=</span><span class="st">'lines+markers'</span>,  <span class="co"># Line plot with markers</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>            visible<span class="op">=</span><span class="va">True</span>  <span class="co"># Set to visible as all terms are top terms now</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the buttons for the dropdown menu</span></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>dropdown_buttons <span class="op">=</span> []</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Start with a button that shows all terms</span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>dropdown_buttons.append(</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>        <span class="st">'label'</span>: <span class="st">'Select All'</span>,</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>        <span class="st">'method'</span>: <span class="st">'update'</span>,</span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>        <span class="st">'args'</span>: [{<span class="st">'visible'</span>: [<span class="va">True</span>] <span class="op">*</span> <span class="bu">len</span>(top_terms)}]</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Add buttons for each term to toggle visibility independently</span></span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, term <span class="kw">in</span> <span class="bu">enumerate</span>(top_terms):</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Each button has its own visibility state</span></span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>    visibility_state <span class="op">=</span> [<span class="va">False</span>] <span class="op">*</span> <span class="bu">len</span>(top_terms)</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>    visibility_state[i] <span class="op">=</span> <span class="va">True</span>  <span class="co"># Toggle i-th term</span></span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>    dropdown_buttons.append(</span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>            <span class="st">'label'</span>: term,</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>            <span class="st">'method'</span>: <span class="st">'update'</span>,</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>            <span class="st">'args'</span>: [{<span class="st">'visible'</span>: visibility_state}]</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Add dropdown menu with buttons</span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>    updatemenus<span class="op">=</span>[</span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>            <span class="st">'buttons'</span>: dropdown_buttons,</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>            <span class="st">'direction'</span>: <span class="st">'down'</span>,</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>            <span class="st">'pad'</span>: {<span class="st">"r"</span>: <span class="dv">10</span>, <span class="st">"t"</span>: <span class="dv">10</span>},</span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>            <span class="st">'showactive'</span>: <span class="va">True</span>,</span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>            <span class="st">'x'</span>: <span class="fl">0.1</span>,</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>            <span class="st">'xanchor'</span>: <span class="st">'left'</span>,</span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>            <span class="st">'y'</span>: <span class="fl">1.3</span>,</span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>            <span class="st">'yanchor'</span>: <span class="st">'top'</span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Date'</span>,</span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Frequency'</span>,</span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>    legend_title<span class="op">=</span><span class="st">'Top Terms'</span>,</span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(l<span class="op">=</span><span class="dv">40</span>, r<span class="op">=</span><span class="dv">40</span>, t<span class="op">=</span><span class="dv">80</span>, b<span class="op">=</span><span class="dv">40</span>)</span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the figure</span></span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a>fig.show()</span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the Plotly figure to an HTML file</span></span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a>html_file_path <span class="op">=</span> <span class="st">'../../data/plots/nlp_yyl/top_20_terms.html'</span>  <span class="co"># Adjust the path as needed</span></span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a>fig.write_html(html_file_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="4704e00d-8a32-4e70-b2ea-0385830774a7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4704e00d-8a32-4e70-b2ea-0385830774a7")) {                    Plotly.newPlot(                        "4704e00d-8a32-4e70-b2ea-0385830774a7",                        [{"mode":"lines+markers","name":"tattmatte","visible":true,"x":["2021-01-01T00:00:00","2021-02-01T00:00:00","2021-03-01T00:00:00","2021-04-01T00:00:00","2021-05-01T00:00:00","2021-06-01T00:00:00","2021-07-01T00:00:00","2021-08-01T00:00:00","2021-09-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00","2022-02-01T00:00:00","2022-03-01T00:00:00","2022-04-01T00:00:00","2022-05-01T00:00:00","2022-06-01T00:00:00","2022-07-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00","2022-10-01T00:00:00","2022-11-01T00:00:00","2022-12-01T00:00:00","2023-01-01T00:00:00","2023-02-01T00:00:00","2023-03-01T00:00:00"],"y":[27,26,23,37,22,28,34,19,21,24,21,18,22,39,42,42,41,21,22,20,24,38,22,39,42,54,48],"type":"scatter"},{"mode":"lines+markers","name":"alike","visible":true,"x":["2021-01-01T00:00:00","2021-02-01T00:00:00","2021-03-01T00:00:00","2021-04-01T00:00:00","2021-05-01T00:00:00","2021-06-01T00:00:00","2021-07-01T00:00:00","2021-08-01T00:00:00","2021-09-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00","2022-02-01T00:00:00","2022-03-01T00:00:00","2022-04-01T00:00:00","2022-05-01T00:00:00","2022-06-01T00:00:00","2022-07-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00","2022-10-01T00:00:00","2022-11-01T00:00:00","2022-12-01T00:00:00","2023-01-01T00:00:00","2023-02-01T00:00:00","2023-03-01T00:00:00"],"y":[12,12,20,18,10,11,15,14,18,9,12,9,12,20,20,24,27,18,20,13,19,30,19,28,34,39,31],"type":"scatter"},{"mode":"lines+markers","name":"straighten","visible":true,"x":["2021-01-01T00:00:00","2021-02-01T00:00:00","2021-03-01T00:00:00","2021-04-01T00:00:00","2021-05-01T00:00:00","2021-06-01T00:00:00","2021-07-01T00:00:00","2021-08-01T00:00:00","2021-09-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00","2022-02-01T00:00:00","2022-03-01T00:00:00","2022-04-01T00:00:00","2022-05-01T00:00:00","2022-06-01T00:00:00","2022-07-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00","2022-10-01T00:00:00","2022-11-01T00:00:00","2022-12-01T00:00:00","2023-01-01T00:00:00","2023-02-01T00:00:00","2023-03-01T00:00:00"],"y":[8,12,10,12,7,8,6,7,7,10,8,13,13,8,7,13,22,8,10,12,13,13,9,16,23,29,30],"type":"scatter"},{"mode":"lines+markers","name":"kaleido","visible":true,"x":["2021-01-01T00:00:00","2021-02-01T00:00:00","2021-03-01T00:00:00","2021-04-01T00:00:00","2021-06-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00","2022-02-01T00:00:00","2022-03-01T00:00:00","2022-04-01T00:00:00","2022-05-01T00:00:00","2022-06-01T00:00:00","2022-07-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00","2022-10-01T00:00:00","2022-11-01T00:00:00","2022-12-01T00:00:00","2023-01-01T00:00:00","2023-02-01T00:00:00","2023-03-01T00:00:00"],"y":[8,7,13,8,6,5,5,8,8,11,6,14,8,9,12,11,22,17,14,18,14,21,20,12],"type":"scatter"},{"mode":"lines+markers","name":"cruical","visible":true,"x":["2021-01-01T00:00:00","2021-02-01T00:00:00","2021-03-01T00:00:00","2021-06-01T00:00:00","2021-07-01T00:00:00","2021-08-01T00:00:00","2021-09-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00","2022-03-01T00:00:00","2022-04-01T00:00:00","2022-05-01T00:00:00","2022-08-01T00:00:00","2022-10-01T00:00:00","2022-11-01T00:00:00","2022-12-01T00:00:00","2023-01-01T00:00:00","2023-03-01T00:00:00"],"y":[14,11,8,7,5,5,8,7,6,9,6,11,6,6,8,9,10,10,21,12],"type":"scatter"},{"mode":"lines+markers","name":"saraxb","visible":true,"x":["2021-01-01T00:00:00","2021-04-01T00:00:00","2021-05-01T00:00:00","2021-06-01T00:00:00","2021-08-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00","2022-02-01T00:00:00","2022-04-01T00:00:00","2022-05-01T00:00:00","2022-06-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00","2022-10-01T00:00:00","2022-12-01T00:00:00"],"y":[6,7,4,7,5,4,6,9,7,7,13,10,6,8,10,12,14],"type":"scatter"},{"mode":"lines+markers","name":"runaround","visible":true,"x":["2021-02-01T00:00:00","2021-03-01T00:00:00","2021-04-01T00:00:00","2021-07-01T00:00:00","2021-10-01T00:00:00","2022-03-01T00:00:00","2022-06-01T00:00:00","2022-10-01T00:00:00","2022-11-01T00:00:00","2023-03-01T00:00:00"],"y":[6,5,9,7,9,10,5,9,7,10],"type":"scatter"},{"mode":"lines+markers","name":"sisters","visible":true,"x":["2021-03-01T00:00:00","2021-04-01T00:00:00","2021-05-01T00:00:00","2022-02-01T00:00:00","2022-03-01T00:00:00","2022-07-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00","2022-10-01T00:00:00","2023-01-01T00:00:00"],"y":[5,5,5,5,6,5,10,7,10,10],"type":"scatter"},{"mode":"lines+markers","name":"lookbooks","visible":true,"x":["2021-08-01T00:00:00","2022-08-01T00:00:00","2022-11-01T00:00:00","2022-12-01T00:00:00","2023-01-01T00:00:00","2023-02-01T00:00:00","2023-03-01T00:00:00"],"y":[8,8,7,14,11,10,9],"type":"scatter"},{"mode":"lines+markers","name":"camping","visible":true,"x":["2021-06-01T00:00:00","2021-08-01T00:00:00","2021-10-01T00:00:00","2021-11-01T00:00:00","2022-02-01T00:00:00","2022-05-01T00:00:00","2022-07-01T00:00:00","2022-08-01T00:00:00","2022-09-01T00:00:00"],"y":[4,8,4,4,6,7,6,12,9],"type":"scatter"},{"mode":"lines+markers","name":"directs","visible":true,"x":["2021-01-01T00:00:00","2021-08-01T00:00:00","2021-09-01T00:00:00","2021-12-01T00:00:00","2022-05-01T00:00:00","2022-11-01T00:00:00","2023-01-01T00:00:00","2023-03-01T00:00:00"],"y":[5,5,5,5,6,8,12,13],"type":"scatter"},{"mode":"lines+markers","name":"frosting","visible":true,"x":["2021-01-01T00:00:00","2021-05-01T00:00:00","2021-09-01T00:00:00","2021-11-01T00:00:00","2022-02-01T00:00:00","2022-05-01T00:00:00","2022-06-01T00:00:00","2022-12-01T00:00:00"],"y":[7,5,8,6,5,6,5,10],"type":"scatter"},{"mode":"lines+markers","name":"jogs","visible":true,"x":["2021-03-01T00:00:00","2021-07-01T00:00:00","2021-08-01T00:00:00","2022-06-01T00:00:00","2022-11-01T00:00:00","2023-01-01T00:00:00"],"y":[5,7,6,6,6,10],"type":"scatter"},{"mode":"lines+markers","name":"repackages","visible":true,"x":["2021-01-01T00:00:00","2021-08-01T00:00:00","2023-02-01T00:00:00","2023-03-01T00:00:00"],"y":[6,5,9,10],"type":"scatter"},{"mode":"lines+markers","name":"professionall","visible":true,"x":["2021-04-01T00:00:00","2022-10-01T00:00:00","2023-01-01T00:00:00"],"y":[5,9,10],"type":"scatter"},{"mode":"lines+markers","name":"jamata","visible":true,"x":["2021-10-01T00:00:00","2022-01-01T00:00:00","2023-02-01T00:00:00"],"y":[4,5,8],"type":"scatter"},{"mode":"lines+markers","name":"shivers","visible":true,"x":["2021-11-01T00:00:00","2022-07-01T00:00:00","2022-09-01T00:00:00"],"y":[5,6,6],"type":"scatter"},{"mode":"lines+markers","name":"vidos","visible":true,"x":["2021-03-01T00:00:00","2021-12-01T00:00:00","2022-01-01T00:00:00"],"y":[6,5,6],"type":"scatter"},{"mode":"lines+markers","name":"temptation","visible":true,"x":["2022-04-01T00:00:00","2023-03-01T00:00:00"],"y":[6,10],"type":"scatter"},{"mode":"lines+markers","name":"complicating","visible":true,"x":["2021-04-01T00:00:00","2021-07-01T00:00:00"],"y":[8,6],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"margin":{"l":40,"r":40,"t":80,"b":40},"updatemenus":[{"buttons":[{"args":[{"visible":[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]}],"label":"Select All","method":"update"},{"args":[{"visible":[true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"tattmatte","method":"update"},{"args":[{"visible":[false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"alike","method":"update"},{"args":[{"visible":[false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"straighten","method":"update"},{"args":[{"visible":[false,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"kaleido","method":"update"},{"args":[{"visible":[false,false,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"cruical","method":"update"},{"args":[{"visible":[false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"saraxb","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"runaround","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false,false,false]}],"label":"sisters","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false,false]}],"label":"lookbooks","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false,false]}],"label":"camping","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false,false]}],"label":"directs","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false,false]}],"label":"frosting","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false,false]}],"label":"jogs","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false,false]}],"label":"repackages","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false,false]}],"label":"professionall","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false,false]}],"label":"jamata","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,false,false]}],"label":"shivers","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false,false]}],"label":"vidos","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true,false]}],"label":"temptation","method":"update"},{"args":[{"visible":[false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,true]}],"label":"complicating","method":"update"}],"direction":"down","pad":{"r":10,"t":10},"showactive":true,"x":0.1,"xanchor":"left","y":1.3,"yanchor":"top"}],"xaxis":{"title":{"text":"Date"}},"yaxis":{"title":{"text":"Frequency"}},"legend":{"title":{"text":"Top Terms"}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('4704e00d-8a32-4e70-b2ea-0385830774a7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Term Analysis:</p>
<pre><code>Tattmatte (Navy Blue Line): This term shows significant variability, with the most notable peaks around October 2021 and April 2023, reaching a frequency of just over 50.
Alike (Green Line): Exhibits moderate fluctuations, with a noticeable increase around July 2021 and a peak in early 2023.
Straighten (Red Line): Relatively stable with minor peaks, the most notable being around April 2022.
Kaleido (Brown Line): This line shows a gradual increase over time, with spikes that appear to be seasonal, peaking in mid-2021 and early 2023.
Crucial (Purple Line): Shows a spike around April 2022 and maintains a low to moderate frequency at other times.
Saraxb (Teal Line): Remains relatively low-frequency with slight peaks, the highest being around mid-2022.
Runaround (Orange Line): This term's frequency increases in the latter half of 2022 and maintains a moderate frequency thereafter.
Sisters (Light Blue Line): Shows occasional spikes but remains generally low in frequency.
Lookbooks (Pink Line): After being relatively flat, it shows a peak in early 2022 and another in early 2023.
Camping (Yellow Line): Very low frequency throughout, with no significant peaks.
Directs (Light Green Line): Not clearly visible on the graph, indicating a very low or negligible frequency compared to the other terms.</code></pre>
<p>Overall Trends:</p>
<p>The term “tattmatte” dominates the graph in terms of frequency, suggesting it’s a highly discussed topic or term in the subreddit. There is an observable increase in the frequency of several terms from the beginning of 2022, which might indicate an overall increase in activity or specific events that prompted discussions in the subreddit. Seasonal or event-driven peaks suggest that some terms are associated with specific times of the year or events within the makeup community.</p>
</section>
<section id="sentiment-analysis" class="level3">
<h3 class="anchored" data-anchor-id="sentiment-analysis">Sentiment Analysis</h3>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>pip install textblob</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Collecting textblob
  Downloading textblob-0.17.1-py2.py3-none-any.whl (636 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 636.8/636.8 kB 9.0 MB/s eta 0:00:0000:01
Requirement already satisfied: nltk&gt;=3.1 in /opt/conda/lib/python3.10/site-packages (from textblob) (3.7)
Requirement already satisfied: click in /opt/conda/lib/python3.10/site-packages (from nltk&gt;=3.1-&gt;textblob) (8.1.7)
Requirement already satisfied: joblib in /opt/conda/lib/python3.10/site-packages (from nltk&gt;=3.1-&gt;textblob) (1.3.2)
Requirement already satisfied: regex&gt;=2021.8.3 in /opt/conda/lib/python3.10/site-packages (from nltk&gt;=3.1-&gt;textblob) (2022.7.9)
Requirement already satisfied: tqdm in /opt/conda/lib/python3.10/site-packages (from nltk&gt;=3.1-&gt;textblob) (4.64.1)
Installing collected packages: textblob
Successfully installed textblob-0.17.1
WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv

[notice] A new release of pip is available: 23.2.1 -&gt; 23.3.1
[notice] To update, run: pip install --upgrade pip
Note: you may need to restart the kernel to use updated packages.</code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> textblob <span class="im">import</span> TextBlob</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> udf</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.types <span class="im">import</span> FloatType</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to get sentiment</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sentiment_analysis(text):</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> TextBlob(text).sentiment.polarity</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create UDF for sentiment analysis</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>sentiment_udf <span class="op">=</span> udf(sentiment_analysis, FloatType())</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming your DataFrame is named 'df' and the text column is 'clean_text'</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>df_with_sentiment <span class="op">=</span> tfidf_data.withColumn(<span class="st">"sentiment"</span>, sentiment_udf(tfidf_data[<span class="st">'clean_text'</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the specific column to Pandas DataFrame for visualization</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df_with_sentiment_pd <span class="op">=</span> df_with_sentiment.select(<span class="st">'sentiment'</span>).toPandas()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>                                                                                </code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="35">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pyspark.sql.functions <span class="im">import</span> explode, col</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Explode the 'top_terms' column to individual terms</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>exploded_df <span class="op">=</span> df_with_sentiment.withColumn(<span class="st">"term"</span>, explode(<span class="st">"top_terms"</span>))</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by term and calculate the total count and average sentiment for the whole year</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>total_grouped_data <span class="op">=</span> exploded_df.groupby(<span class="st">'term'</span>).agg(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    F.count(<span class="st">'term'</span>).alias(<span class="st">'total_count'</span>),</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    F.mean(<span class="st">'sentiment'</span>).alias(<span class="st">'total_avg_sentiment'</span>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the top 20 terms based on total count</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>top_20_terms <span class="op">=</span> total_grouped_data.orderBy(F.desc(<span class="st">'total_count'</span>)).limit(<span class="dv">20</span>).select(<span class="st">'term'</span>).rdd.flatMap(<span class="kw">lambda</span> x: x).collect()</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the exploded DataFrame to only include the top 20 terms</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>top_terms_df <span class="op">=</span> exploded_df.<span class="bu">filter</span>(exploded_df.term.isin(top_20_terms))</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year, month, and term; then calculate average sentiment</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>monthly_grouped_data <span class="op">=</span> top_terms_df.groupby(<span class="st">'year'</span>, <span class="st">'month'</span>, <span class="st">'term'</span>).agg(</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    F.mean(<span class="st">'sentiment'</span>).alias(<span class="st">'avg_sentiment'</span>)</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to Pandas DataFrame for visualization</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>monthly_grouped_data_pd <span class="op">=</span> monthly_grouped_data.toPandas()</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>23/11/19 21:54:22 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
23/11/19 21:57:55 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
23/11/19 21:57:55 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
23/11/19 22:03:28 WARN DAGScheduler: Broadcasting large task binary with size 4.1 MiB
                                                                                </code></pre>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="42">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure 'date' column is in a suitable string format for Plotly</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>monthly_grouped_data_pd[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(monthly_grouped_data_pd[[<span class="st">'year'</span>, <span class="st">'month'</span>]].assign(DAY<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>monthly_grouped_data_pd[<span class="st">'date'</span>] <span class="op">=</span> monthly_grouped_data_pd[<span class="st">'date'</span>].dt.strftime(<span class="st">'%Y-%m'</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart with animation</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.bar(monthly_grouped_data_pd, x<span class="op">=</span><span class="st">'term'</span>, y<span class="op">=</span><span class="st">'avg_sentiment'</span>, color<span class="op">=</span><span class="st">'term'</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>             animation_frame<span class="op">=</span><span class="st">'date'</span>, animation_group<span class="op">=</span><span class="st">'term'</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>             range_y<span class="op">=</span>[monthly_grouped_data_pd.avg_sentiment.<span class="bu">min</span>(), monthly_grouped_data_pd.avg_sentiment.<span class="bu">max</span>()],</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>             title<span class="op">=</span><span class="st">"Monthly Average Sentiment Score for Top 20 Terms"</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>fig.update_layout(showlegend<span class="op">=</span><span class="va">True</span>, xaxis_title<span class="op">=</span><span class="st">"Term"</span>, yaxis_title<span class="op">=</span><span class="st">"Average Sentiment"</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>fig.show()</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the Plotly figure to an HTML file</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>html_file_path <span class="op">=</span> <span class="st">'../../data/plots/nlp_yyl/top_20_terms_sentiment.html'</span>  <span class="co"># Adjust the path as needed</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>fig.write_html(html_file_path)</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="1667a8d9-7c18-4140-bb96-ef57cd766ca7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("1667a8d9-7c18-4140-bb96-ef57cd766ca7")) {                    Plotly.newPlot(                        "1667a8d9-7c18-4140-bb96-ef57cd766ca7",                        [{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[0.10000000102445483],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["zippered"],"legendgroup":"zippered","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"zippered","offsetgroup":"zippered","orientation":"v","showlegend":true,"textposition":"auto","x":["zippered"],"xaxis":"x","y":[0.16833333174387613],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.09583333134651184],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.09768229094333947],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.10000000149011612],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[-0.0071428571827709675],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["careful"],"legendgroup":"careful","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"careful","offsetgroup":"careful","orientation":"v","showlegend":true,"textposition":"auto","x":["careful"],"xaxis":"x","y":[0.1599999964237213],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[0.20000000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.1111776332060496],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Term"},"categoryorder":"array","categoryarray":["town","aloe","hairbrush","zippered","ideally","paypal","closeset","hairy","spread","maine","careful","iredale","saying","stained","dentist","dabbling","small","seduction","findings","loooove"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Average Sentiment"},"range":[-0.4611110985279083,0.6333333253860474]},"legend":{"title":{"text":"term"},"tracegroupgap":0},"title":{"text":"Monthly Average Sentiment Score for Top 20 Terms"},"barmode":"relative","updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":500,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":500,"easing":"linear"}}],"label":"&#9654;","method":"animate"},{"args":[[null],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"&#9724;","method":"animate"}],"direction":"left","pad":{"r":10,"t":70},"showactive":false,"type":"buttons","x":0.1,"xanchor":"right","y":0,"yanchor":"top"}],"sliders":[{"active":0,"currentvalue":{"prefix":"date="},"len":0.9,"pad":{"b":10,"t":60},"steps":[{"args":[["2023-03"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2023-03","method":"animate"},{"args":[["2022-09"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-09","method":"animate"},{"args":[["2023-01"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2023-01","method":"animate"},{"args":[["2023-02"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2023-02","method":"animate"},{"args":[["2022-05"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-05","method":"animate"},{"args":[["2022-04"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-04","method":"animate"},{"args":[["2022-11"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-11","method":"animate"},{"args":[["2021-04"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-04","method":"animate"},{"args":[["2021-03"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-03","method":"animate"},{"args":[["2022-07"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-07","method":"animate"},{"args":[["2021-05"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-05","method":"animate"},{"args":[["2021-01"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-01","method":"animate"},{"args":[["2022-02"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-02","method":"animate"},{"args":[["2022-01"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-01","method":"animate"},{"args":[["2021-09"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-09","method":"animate"},{"args":[["2022-03"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-03","method":"animate"},{"args":[["2022-12"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-12","method":"animate"},{"args":[["2021-07"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-07","method":"animate"},{"args":[["2021-02"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-02","method":"animate"},{"args":[["2021-10"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-10","method":"animate"},{"args":[["2022-10"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-10","method":"animate"},{"args":[["2022-08"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-08","method":"animate"},{"args":[["2021-12"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-12","method":"animate"},{"args":[["2021-06"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-06","method":"animate"},{"args":[["2021-08"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-08","method":"animate"},{"args":[["2022-06"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2022-06","method":"animate"},{"args":[["2021-11"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2021-11","method":"animate"}],"x":0.1,"xanchor":"left","y":0,"yanchor":"top"}],"showlegend":true},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('1667a8d9-7c18-4140-bb96-ef57cd766ca7', [{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[0.10000000102445483],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["zippered"],"legendgroup":"zippered","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"zippered","offsetgroup":"zippered","orientation":"v","showlegend":true,"textposition":"auto","x":["zippered"],"xaxis":"x","y":[0.16833333174387613],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.09583333134651184],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.09768229094333947],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.10000000149011612],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[-0.0071428571827709675],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["careful"],"legendgroup":"careful","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"careful","offsetgroup":"careful","orientation":"v","showlegend":true,"textposition":"auto","x":["careful"],"xaxis":"x","y":[0.1599999964237213],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[0.20000000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-03<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.1111776332060496],"yaxis":"y","type":"bar"}],"name":"2023-03"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[-0.028401359915733337],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[0.13768939673900604],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.20775362849235535],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[-0.15813972304264703],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["careful"],"legendgroup":"careful","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"careful","offsetgroup":"careful","orientation":"v","showlegend":true,"textposition":"auto","x":["careful"],"xaxis":"x","y":[0.05138888955116272],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["saying"],"legendgroup":"saying","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"saying","offsetgroup":"saying","orientation":"v","showlegend":true,"textposition":"auto","x":["saying"],"xaxis":"x","y":[0.5],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[-0.01666666753590107],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.07424242794513702],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-09<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[0.232051283121109],"yaxis":"y","type":"bar"}],"name":"2022-09"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.12619048357009888],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.06527777761220932],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.07202381081879139],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["iredale"],"legendgroup":"iredale","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"iredale","offsetgroup":"iredale","orientation":"v","showlegend":true,"textposition":"auto","x":["iredale"],"xaxis":"x","y":[0.0535714291036129],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.20000000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.06111111119389534],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-01<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[0.13977272808551788],"yaxis":"y","type":"bar"}],"name":"2023-01"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-02<br>avg_sentiment=%{y}<extra></extra>","ids":["ideally"],"legendgroup":"ideally","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"ideally","offsetgroup":"ideally","orientation":"v","showlegend":true,"textposition":"auto","x":["ideally"],"xaxis":"x","y":[0.014791666530072689],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-02<br>avg_sentiment=%{y}<extra></extra>","ids":["paypal"],"legendgroup":"paypal","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"paypal","offsetgroup":"paypal","orientation":"v","showlegend":true,"textposition":"auto","x":["paypal"],"xaxis":"x","y":[0.1251995898783207],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-02<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.07120000012218952],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-02<br>avg_sentiment=%{y}<extra></extra>","ids":["saying"],"legendgroup":"saying","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"saying","offsetgroup":"saying","orientation":"v","showlegend":true,"textposition":"auto","x":["saying"],"xaxis":"x","y":[0.14041666686534882],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-02<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.11153846234083176],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2023-02<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[0.0],"yaxis":"y","type":"bar"}],"name":"2023-02"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[-0.125],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.040277778171002865],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["careful"],"legendgroup":"careful","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"careful","offsetgroup":"careful","orientation":"v","showlegend":true,"textposition":"auto","x":["careful"],"xaxis":"x","y":[0.07500000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[-0.05925925821065903],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.009245350956916809],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[0.20000000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-05<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[0.3333333432674408],"yaxis":"y","type":"bar"}],"name":"2022-05"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[-0.10208333283662796],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["paypal"],"legendgroup":"paypal","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"paypal","offsetgroup":"paypal","orientation":"v","showlegend":true,"textposition":"auto","x":["paypal"],"xaxis":"x","y":[0.37580952048301697],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.09107142686843872],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.12219388037919998],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.17000000178813934],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["careful"],"legendgroup":"careful","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"careful","offsetgroup":"careful","orientation":"v","showlegend":true,"textposition":"auto","x":["careful"],"xaxis":"x","y":[0.06574074178934097],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-04<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[0.17205514013767242],"yaxis":"y","type":"bar"}],"name":"2022-04"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-11<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-11<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.2068749964237213],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-11<br>avg_sentiment=%{y}<extra></extra>","ids":["iredale"],"legendgroup":"iredale","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"iredale","offsetgroup":"iredale","orientation":"v","showlegend":true,"textposition":"auto","x":["iredale"],"xaxis":"x","y":[0.0],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-11<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[0.09583333134651184],"yaxis":"y","type":"bar"}],"name":"2022-11"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-04<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.1358843594789505],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-04<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.02510351873934269],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-04<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[0.13661615550518036],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-04<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.03333333507180214],"yaxis":"y","type":"bar"}],"name":"2021-04"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-03<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[0.06211111135780811],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-03<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.20749999582767487],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-03<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.045401494950056076],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-03<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[-0.28999999165534973],"yaxis":"y","type":"bar"}],"name":"2021-03"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-07<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.022463923941055935],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-07<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.20831044018268585],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-07<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[0.11948052048683167],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-07<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.07384771853685379],"yaxis":"y","type":"bar"}],"name":"2022-07"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[-0.07857143133878708],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[0.22646519541740417],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.23541666567325592],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[-0.10227272659540176],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[0.11851851642131805],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["careful"],"legendgroup":"careful","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"careful","offsetgroup":"careful","orientation":"v","showlegend":true,"textposition":"auto","x":["careful"],"xaxis":"x","y":[-0.062268520006909966],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["saying"],"legendgroup":"saying","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"saying","offsetgroup":"saying","orientation":"v","showlegend":true,"textposition":"auto","x":["saying"],"xaxis":"x","y":[0.11927083134651184],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.21875],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.04742063581943512],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-05<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[0.6333333253860474],"yaxis":"y","type":"bar"}],"name":"2021-05"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["ideally"],"legendgroup":"ideally","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"ideally","offsetgroup":"ideally","orientation":"v","showlegend":true,"textposition":"auto","x":["ideally"],"xaxis":"x","y":[0.23543955385684967],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["paypal"],"legendgroup":"paypal","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"paypal","offsetgroup":"paypal","orientation":"v","showlegend":true,"textposition":"auto","x":["paypal"],"xaxis":"x","y":[0.21666666865348816],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.21666666865348816],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[0.0776190459728241],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["iredale"],"legendgroup":"iredale","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"iredale","offsetgroup":"iredale","orientation":"v","showlegend":true,"textposition":"auto","x":["iredale"],"xaxis":"x","y":[0.16190476715564728],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.08190476335585117],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-01<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[-0.029393939301371574],"yaxis":"y","type":"bar"}],"name":"2021-01"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.3166666626930237],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.08655982837080956],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.04416666552424431],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.14246232559283575],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.07341670989990234],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[0.34166666865348816],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.23999999463558197],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-02<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[0.2666666805744171],"yaxis":"y","type":"bar"}],"name":"2022-02"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-01<br>avg_sentiment=%{y}<extra></extra>","ids":["zippered"],"legendgroup":"zippered","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"zippered","offsetgroup":"zippered","orientation":"v","showlegend":true,"textposition":"auto","x":["zippered"],"xaxis":"x","y":[0.3333333432674408],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-01<br>avg_sentiment=%{y}<extra></extra>","ids":["spread"],"legendgroup":"spread","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"spread","offsetgroup":"spread","orientation":"v","showlegend":true,"textposition":"auto","x":["spread"],"xaxis":"x","y":[0.23999999463558197],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-01<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[-0.10833333432674408],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-01<br>avg_sentiment=%{y}<extra></extra>","ids":["iredale"],"legendgroup":"iredale","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"iredale","offsetgroup":"iredale","orientation":"v","showlegend":true,"textposition":"auto","x":["iredale"],"xaxis":"x","y":[-0.0833333358168602],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-01<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.21666666865348816],"yaxis":"y","type":"bar"}],"name":"2022-01"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-09<br>avg_sentiment=%{y}<extra></extra>","ids":["ideally"],"legendgroup":"ideally","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"ideally","offsetgroup":"ideally","orientation":"v","showlegend":true,"textposition":"auto","x":["ideally"],"xaxis":"x","y":[0.24379509687423706],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-09<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.14444445073604584],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-09<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.14444445073604584],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-09<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.08510333113372326],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-09<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[-0.03485576808452606],"yaxis":"y","type":"bar"}],"name":"2021-09"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-03<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[0.08258333429694176],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-03<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[0.22708334028720856],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-03<br>avg_sentiment=%{y}<extra></extra>","ids":["ideally"],"legendgroup":"ideally","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"ideally","offsetgroup":"ideally","orientation":"v","showlegend":true,"textposition":"auto","x":["ideally"],"xaxis":"x","y":[0.1912499964237213],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-03<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[0.05993589945137501],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-03<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[0.30000001192092896],"yaxis":"y","type":"bar"}],"name":"2022-03"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-12<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.055390211287885904],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-12<br>avg_sentiment=%{y}<extra></extra>","ids":["iredale"],"legendgroup":"iredale","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"iredale","offsetgroup":"iredale","orientation":"v","showlegend":true,"textposition":"auto","x":["iredale"],"xaxis":"x","y":[0.08636363595724106],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-12<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.06471956521272659],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-12<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[0.07500000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-12<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.14895834028720856],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-12<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[0.18333333730697632],"yaxis":"y","type":"bar"}],"name":"2022-12"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-07<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.25],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-07<br>avg_sentiment=%{y}<extra></extra>","ids":["ideally"],"legendgroup":"ideally","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"ideally","offsetgroup":"ideally","orientation":"v","showlegend":true,"textposition":"auto","x":["ideally"],"xaxis":"x","y":[0.24444444477558136],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-07<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.11714285612106323],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-07<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.16176250576972961],"yaxis":"y","type":"bar"}],"name":"2021-07"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-02<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[0.23749999701976776],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-02<br>avg_sentiment=%{y}<extra></extra>","ids":["zippered"],"legendgroup":"zippered","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"zippered","offsetgroup":"zippered","orientation":"v","showlegend":true,"textposition":"auto","x":["zippered"],"xaxis":"x","y":[0.36666667461395264],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-02<br>avg_sentiment=%{y}<extra></extra>","ids":["ideally"],"legendgroup":"ideally","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"ideally","offsetgroup":"ideally","orientation":"v","showlegend":true,"textposition":"auto","x":["ideally"],"xaxis":"x","y":[-0.4611110985279083],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-02<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[-0.03750000149011612],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-02<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.05197368562221527],"yaxis":"y","type":"bar"}],"name":"2021-02"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-10<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[-0.07333333045244217],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-10<br>avg_sentiment=%{y}<extra></extra>","ids":["saying"],"legendgroup":"saying","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"saying","offsetgroup":"saying","orientation":"v","showlegend":true,"textposition":"auto","x":["saying"],"xaxis":"x","y":[0.10194805264472961],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-10<br>avg_sentiment=%{y}<extra></extra>","ids":["stained"],"legendgroup":"stained","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"stained","offsetgroup":"stained","orientation":"v","showlegend":true,"textposition":"auto","x":["stained"],"xaxis":"x","y":[0.07500000298023224],"yaxis":"y","type":"bar"}],"name":"2021-10"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.023333333432674408],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[0.1088888868689537],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[-0.12857143580913544],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["small"],"legendgroup":"small","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"small","offsetgroup":"small","orientation":"v","showlegend":true,"textposition":"auto","x":["small"],"xaxis":"x","y":[0.05833333358168602],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.031060606241226196],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[0.1371714323759079],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-10<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[-0.01666666753590107],"yaxis":"y","type":"bar"}],"name":"2022-10"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[-0.25],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[0.06666667014360428],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.36393940448760986],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.15000000596046448],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.18000000715255737],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["dentist"],"legendgroup":"dentist","marker":{"color":"#FFA15A","pattern":{"shape":""}},"name":"dentist","offsetgroup":"dentist","orientation":"v","showlegend":true,"textposition":"auto","x":["dentist"],"xaxis":"x","y":[0.4000000059604645],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-08<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.05638774111866951],"yaxis":"y","type":"bar"}],"name":"2022-08"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-12<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[-0.0364583320915699],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-12<br>avg_sentiment=%{y}<extra></extra>","ids":["aloe"],"legendgroup":"aloe","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"aloe","offsetgroup":"aloe","orientation":"v","showlegend":true,"textposition":"auto","x":["aloe"],"xaxis":"x","y":[0.13750000298023224],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-12<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.10723505821079016],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-12<br>avg_sentiment=%{y}<extra></extra>","ids":["saying"],"legendgroup":"saying","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"saying","offsetgroup":"saying","orientation":"v","showlegend":true,"textposition":"auto","x":["saying"],"xaxis":"x","y":[-0.018333332613110542],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-12<br>avg_sentiment=%{y}<extra></extra>","ids":["dabbling"],"legendgroup":"dabbling","marker":{"color":"#19d3f3","pattern":{"shape":""}},"name":"dabbling","offsetgroup":"dabbling","orientation":"v","showlegend":true,"textposition":"auto","x":["dabbling"],"xaxis":"x","y":[0.23112745583057404],"yaxis":"y","type":"bar"}],"name":"2021-12"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-06<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.16572339832782745],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-06<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[0.14023809134960175],"yaxis":"y","type":"bar"}],"name":"2021-06"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["hairbrush"],"legendgroup":"hairbrush","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"hairbrush","offsetgroup":"hairbrush","orientation":"v","showlegend":true,"textposition":"auto","x":["hairbrush"],"xaxis":"x","y":[0.2336309552192688],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["zippered"],"legendgroup":"zippered","marker":{"color":"#ab63fa","pattern":{"shape":""}},"name":"zippered","offsetgroup":"zippered","orientation":"v","showlegend":true,"textposition":"auto","x":["zippered"],"xaxis":"x","y":[0.27190476655960083],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.13333334028720856],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["maine"],"legendgroup":"maine","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"maine","offsetgroup":"maine","orientation":"v","showlegend":true,"textposition":"auto","x":["maine"],"xaxis":"x","y":[0.10000000149011612],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["iredale"],"legendgroup":"iredale","marker":{"color":"#EF553B","pattern":{"shape":""}},"name":"iredale","offsetgroup":"iredale","orientation":"v","showlegend":true,"textposition":"auto","x":["iredale"],"xaxis":"x","y":[0.15909090638160706],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["saying"],"legendgroup":"saying","marker":{"color":"#00cc96","pattern":{"shape":""}},"name":"saying","offsetgroup":"saying","orientation":"v","showlegend":true,"textposition":"auto","x":["saying"],"xaxis":"x","y":[0.0949999988079071],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["seduction"],"legendgroup":"seduction","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"seduction","offsetgroup":"seduction","orientation":"v","showlegend":true,"textposition":"auto","x":["seduction"],"xaxis":"x","y":[0.26286548376083374],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-08<br>avg_sentiment=%{y}<extra></extra>","ids":["findings"],"legendgroup":"findings","marker":{"color":"#FF97FF","pattern":{"shape":""}},"name":"findings","offsetgroup":"findings","orientation":"v","showlegend":true,"textposition":"auto","x":["findings"],"xaxis":"x","y":[0.03333333507180214],"yaxis":"y","type":"bar"}],"name":"2021-08"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2022-06<br>avg_sentiment=%{y}<extra></extra>","ids":["hairy"],"legendgroup":"hairy","marker":{"color":"#B6E880","pattern":{"shape":""}},"name":"hairy","offsetgroup":"hairy","orientation":"v","showlegend":true,"textposition":"auto","x":["hairy"],"xaxis":"x","y":[0.02190476283431053],"yaxis":"y","type":"bar"}],"name":"2022-06"},{"data":[{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-11<br>avg_sentiment=%{y}<extra></extra>","ids":["town"],"legendgroup":"town","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"town","offsetgroup":"town","orientation":"v","showlegend":true,"textposition":"auto","x":["town"],"xaxis":"x","y":[-0.22083333134651184],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-11<br>avg_sentiment=%{y}<extra></extra>","ids":["closeset"],"legendgroup":"closeset","marker":{"color":"#FF6692","pattern":{"shape":""}},"name":"closeset","offsetgroup":"closeset","orientation":"v","showlegend":true,"textposition":"auto","x":["closeset"],"xaxis":"x","y":[0.3583333194255829],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"term=%{x}<br>date=2021-11<br>avg_sentiment=%{y}<extra></extra>","ids":["loooove"],"legendgroup":"loooove","marker":{"color":"#FECB52","pattern":{"shape":""}},"name":"loooove","offsetgroup":"loooove","orientation":"v","showlegend":true,"textposition":"auto","x":["loooove"],"xaxis":"x","y":[0.0],"yaxis":"y","type":"bar"}],"name":"2021-11"}]);
                        }).then(function(){
                            
var gd = document.getElementById('1667a8d9-7c18-4140-bb96-ef57cd766ca7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Variability Over Time:</p>
<p>Stability: Some terms show relatively stable sentiment scores over time. For example, “aloe” maintains a positive sentiment throughout, suggesting consistent perception.</p>
<p>Fluctuation: Other terms exhibit more significant fluctuations. For instance, “zippered” and “loooove” have varied sentiment scores across different months, indicating changing perceptions or contexts in which they are discussed. Comparative Sentiment Analysis:</p>
<p>Positive Terms: Terms like “aloe”, “iredale”, and “loooove” generally have higher sentiment scores, suggesting a positive perception. Negative Terms: Conversely, terms like “dentist” and “hairy” occasionally dip into negative sentiment scores, indicating less favorable perceptions at times. Contextual Trends:</p>
<p>Seasonal Variations: Some terms may have sentiment scores that correlate with seasons or events. For example, “hairy” and “dentist” show fluctuating sentiments possibly tied to specific events or seasons. Consistent Terms: Terms like “spread” and “small” maintain a relatively consistent sentiment, possibly indicating a stable context or usage. Notable Observations:</p>
<p>Significant Changes: Some terms show significant changes in sentiment from one year to another. For instance, “iredale” goes from negative to positive sentiment, which could be due to changing discussions or perceptions over time. High and Low Points: The term “saying” reaches a sentiment high of 0.5 in September 2022, while “ideally” drops to -0.46 in February 2021, highlighting their most polarized sentiment moments. Overall Sentiment Trends:</p>
<p>The general trend for most terms is a mix of positive and negative sentiments, indicating diverse contexts and perceptions. Terms like “careful” and “stained” exhibit an upward trend in sentiment over time, suggesting improving perceptions or more positive contexts.</p>
<p>“Town”:</p>
<p>Fluctuating Sentiment: Exhibits fluctuations from a low of -0.22 in November 2021 to a high of 0.1 in March 2023. Notable Dip: Significant negative sentiment in November 2021, possibly due to specific events or discussions.</p>
<p>“Aloe”:</p>
<p>Generally Positive: Consistently positive sentiment across months, with the highest in May 2021 (0.226) and the lowest in April 2022 (-0.102). Stable Perception: The term seems to maintain a generally favorable perception.</p>
<p>“Hairbrush”:</p>
<p>Varying Scores: Shows a wide range in sentiment from -0.125 in May 2022 to 0.25 in July 2021. Context Sensitivity: The sentiment seems to vary possibly due to the different contexts in which it’s discussed.</p>
<p>“Zippered”:</p>
<p>High Positive Score: Peaks at 0.367 in February 2021. Inconsistent Trend: Shows inconsistency in sentiment, which might suggest varied usage or context.</p>
<p>“Ideally”:</p>
<p>Significant Negative in February 2021: Drops to -0.461, indicating a strongly negative perception or context. Recovery: Shows an upward trend in sentiment in later months, reaching 0.243 in September 2021.</p>
<p>“PayPal”:</p>
<p>Generally Positive: Ranges from 0.125 in February 2023 to a high of 0.376 in April 2022. Positive Perception: Mostly positive sentiment, indicating favorable views or experiences related to PayPal.</p>
<p>“Hairy”:</p>
<p>Varied Sentiment: Fluctuates from -0.102 in May 2021 to 0.18 in August 2022. Negative Peaks: Shows negative sentiment peaks, particularly in May 2021 and September 2022.</p>
<p>“Spread”:</p>
<p>Consistent Positivity: Maintains positive sentiment, peaking at 0.24 in January 2022. Stable Positive Perception: Indicates a generally positive context or usage across different months.</p>
<p>“Dentist”:</p>
<p>Mixed Sentiment: Ranges from -0.29 in March 2021 to a high of 0.4 in August 2022. Seasonal Influence: Possible seasonal influence on sentiment, with higher positive sentiment in summer months.</p>
<p>“Stained”:</p>
<p>Fluctuating Scores: Ranges from -0.016 in September 2022 to a high of 0.218 in May 2021. Context-Dependent: The term’s sentiment seems highly dependent on the context of discussion.</p>
<p>“Seduction”:</p>
<p>Generally Low Scores: Maintains relatively low sentiment scores, peaking at 0.263 in August 2021. Varied Perception: The sentiment varies, suggesting different contexts or connotations.</p>
<p>“Looove”:</p>
<p>High Positive Scores: Peaks at 0.633 in May 2021, indicating a very positive context. Negative Scores: Shows negative sentiment in 2022, indicating a shift in perception or context.</p>
<p>“Dabbling”:</p>
<p>Generally Positive: Shows mostly positive sentiment, peaking at 0.148 in December 2022. Consistent Positive Context: Suggests a generally positive or favorable context in discussions.</p>
<p>Conclusions: Contextual Sensitivity: The sentiment of terms like “hairbrush”, “hairy”, and “zippered” is sensitive to context, showing significant fluctuations. Stable vs.&nbsp;Variable Sentiments: Terms like “aloe” and “spread” maintain stable positive sentiments, while others like “dentist” and “ideally” show more variability. Seasonal Influences: Some terms exhibit seasonal sentiment trends, as seen with “dentist” and “hairy”. Changing Perceptions: Terms like “loooove” show changing perceptions over time, evident from the shift from high positive to negative sentiments.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>